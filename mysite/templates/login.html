{% extends 'base.html' %}

{% load widget_tweaks %}

{% block content %}
  <div class="login-form">
    <form action="{% url 'login' %}" method="post">
      {% csrf_token %}
      <h2 class="text-center">Log in</h2> 

      {% if form.errors %}
        <div class="form-group has-error">
          {% render_field form.username class="form-control" placeholder="email" type="Email address" autocomplete="off" %}
        </div>
        <div class="form-group has-error">
          {% render_field form.password class="form-control" placeholder="Password" autocomplete="off" %}
        </div>
      {% else %}
        <div class="form-group">
          {% render_field form.username class="form-control" placeholder="email" type="email" autocomplete="off" %}
        </div>
        <div class="form-group">
          {% render_field form.password class="form-control" placeholder="password" autocomplete="off" %}
        </div>
      {% endif %}

      {% if form.errors %}
        <p class="bg-danger">Your username and password is invalid.</p>
      {% endif %}

      <div class="form-group">
        <button type="submit" class="btn btn-primary btn-block">Log in</button>
      </div>
      <p class="text-center"><a href="{% url 'password_reset' %}">Forgot password?</a></p>
      <p class="text-center">Don't have an account?<a href="{% url 'register' %}" style="margin-left: 5px">Register</a></p>
    </form>
  </div>
{% endblock %}